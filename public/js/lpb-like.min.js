let lpbTimerId,lpbLike=0;function lpb_debounce(t,e){return function(...n){lpbTimerId&&clearTimeout(lpbTimerId),lpbTimerId=setTimeout((()=>{t.apply(this,n)}),e)}}function lbp_animateIcon(){const t=document.querySelector(".wp-like-post__button svg");t&&(t.style.transform="scale(1.1)",setTimeout((()=>t.style.transform="scale(1.0)"),100))}function lpb_replaceIcon(){const t=document.querySelector(".wp-like-post__button");t&&!t.classList.contains("wp-like-post__button--liked")&&(t.classList.add("wp-like-post__button--liked"),t.innerHTML=LPB.icons.active)}let lpbPost=function(){function t(t){Object.freeze(t),Object.defineProperties(this,{likes:{value:{total:t.likes.total,fromUser:t.likes.fromUser},writable:!0},_settings:{value:t}})}return t.prototype.like=function(){if(parseInt(this.likes.fromUser)>=parseInt(this._settings.limit))return;lpbLike++,this.likes.fromUser++;const t=parseInt(this.likes.total);document.querySelector(".wp-like-post__count").innerHTML=(t+lpbLike).toString();lpb_debounce((()=>{const t=new XMLHttpRequest;t.open("POST",this._settings.url,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.onload=()=>{t.status>=200&&t.status<400&&(this.likes.total=this.likes.total+lpbLike,lpbLike=0)};const e=this._settings.post_id,n=this._settings.nonce;t.send(`action=lpb_like_post&post_id=${e}&count=${lpbLike}&nonce=${n}`)}),500)(),lpb_replaceIcon(),lbp_animateIcon()},t}();document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".wp-like-post__button");if(!t||!window.LPB)return;const e=new lpbPost(window.LPB);t.addEventListener("click",(()=>e.like()))}));